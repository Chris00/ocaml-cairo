<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Matrix (cairo2.Cairo.Matrix)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">cairo2</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Cairo.Matrix</span></h1></header><div class="doc"><p>This is used throughout cairo to convert between different
coordinate spaces.</p></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code><span class="keyword"> = </span><a href="../index.html#type-matrix">matrix</a></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-init_identity"><a href="#val-init_identity" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init_identity : unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">init_identity()</code> returns the identity transformation.</p></div></div><div class="spec val" id="val-init_translate"><a href="#val-init_translate" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init_translate : float <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">init_translate tx ty</code> return a transformation that translates
by <code class="code">tx</code> and <code class="code">ty</code> in the X and Y dimensions, respectively.</p></div></div><div class="spec val" id="val-init_scale"><a href="#val-init_scale" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init_scale : float <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">init_scale sx sy</code> return a transformation that scales by <code class="code">sx</code>
and <code class="code">sy</code> in the X and Y dimensions, respectively.</p></div></div><div class="spec val" id="val-init_rotate"><a href="#val-init_rotate" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init_rotate : float <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">init_rotate radians</code> returns a a transformation that rotates by
<code class="code">radians</code>.</p></div></div><div class="spec val" id="val-translate"><a href="#val-translate" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>translate : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">translate matrix tx ty</code> applies a translation by <code class="code">tx</code>, <code class="code">ty</code> to
the transformation in <code class="code">matrix</code>. The effect of the new
transformation is to first translate the coordinates by <code class="code">tx</code> and
<code class="code">ty</code>, then apply the original transformation to the
coordinates.</p></div></div><div class="spec val" id="val-scale"><a href="#val-scale" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>scale : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">scale matrix sx sy</code> applies scaling by <code class="code">sx</code>, <code class="code">sy</code> to the
transformation in <code class="code">matrix</code>. The effect of the new transformation
is to first scale the coordinates by <code class="code">sx</code> and <code class="code">sy</code>, then apply
the original transformation to the coordinates.</p></div></div><div class="spec val" id="val-rotate"><a href="#val-rotate" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rotate : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">rotate matrix radians</code> applies rotation by <code class="code">radians</code> to the
transformation in <code class="code">matrix</code>. The effect of the new transformation
is to first rotate the coordinates by <code class="code">radians</code>, then apply the
original transformation to the coordinates.</p></div></div><div class="spec val" id="val-invert"><a href="#val-invert" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>invert : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">invert matrix</code> changes <code class="code">matrix</code> to be the inverse of it's
original value. Not all transformation matrices have inverses;
if the matrix collapses points together (it is degenerate), then
it has no inverse and this function will raise <code class="code">Error
     INVALID_MATRIX</code>.</p></div></div><div class="spec val" id="val-multiply"><a href="#val-multiply" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>multiply : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">multiply a b</code> multiplies the affine transformations in <code class="code">a</code> and
<code class="code">b</code> together and return the result. The effect of the resulting
transformation is to first apply the transformation in <code class="code">a</code> to the
coordinates and then apply the transformation in <code class="code">b</code> to the
coordinates.</p></div></div><div class="spec val" id="val-transform_distance"><a href="#val-transform_distance" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>transform_distance : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> dx:float <span class="keyword">&#8209;&gt;</span> dy:float <span class="keyword">&#8209;&gt;</span> float<span class="keyword"> * </span>float</code></div><div class="doc"><p><code class="code">transform_distance matrix dx dy</code> transforms the distance
vector (<code class="code">dx</code>,<code class="code">dy</code>) by <code class="code">matrix</code>. This is similar to
<a href="index.html#val-transform_point">Cairo.Matrix.transform_point</a> except that the translation
components of the transformation are ignored. The calculation
of the returned vector is as follows:
</p><pre><code class="code">     dx2 = dx1 * a + dy1 * c;
     dy2 = dx1 * b + dy1 * d;</code></pre><p>
Affine transformations are position invariant, so the same
vector always transforms to the same vector. If (x1,y1)
transforms to (x2,y2) then (x1+dx1,y1+dy1) will transform to
(x1+dx2,y1+dy2) for all values of x1 and x2.</p></div></div><div class="spec val" id="val-transform_point"><a href="#val-transform_point" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>transform_point : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> float<span class="keyword"> * </span>float</code></div><div class="doc"><p><code class="code">transform_point matrix x y</code> transforms the point (<code class="code">x</code>, <code class="code">y</code>) by
<code class="code">matrix</code>.</p></div></div></body></html>