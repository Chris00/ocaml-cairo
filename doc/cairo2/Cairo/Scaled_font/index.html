<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Scaled_font (cairo2.Cairo.Scaled_font)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">cairo2</a> &#x00BB; <a href="../index.html">Cairo</a> &#x00BB; Scaled_font</nav><header class="odoc-preamble"><h1>Module <code><span>Cairo.Scaled_font</span></code></h1><p><a href="#type-t"><code>Cairo.Scaled_font.t</code></a> represents a realization of a font face at a particular size and transformation and a certain set of font options.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p>A <code>Cairo.Scaled_font.t</code> is a font scaled to a particular size and device resolution. It is most useful for low-level font usage where a library or application wants to cache a reference to a scaled font to speed up the computation of metrics.</p><p>There are various types of scaled fonts, depending on the font backend they use. The type of a scaled font can be queried using <a href="#val-get_type"><code>Cairo.Scaled_font.get_type</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><a href="../index.html#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Replaces the current font face, font matrix, and font options in the <a href="../index.html#type-context"><code>Cairo.context</code></a> with those of the <a href="#type-t"><code>Cairo.Scaled_font.t</code></a>. Except for some translation, the current CTM of the <a href="../index.html#type-context"><code>Cairo.context</code></a> should be the same as that of the <a href="#type-t"><code>Cairo.Scaled_font.t</code></a>, which can be accessed using <a href="#val-get_ctm"><code>Cairo.Scaled_font.get_ctm</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="../index.html#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Gets the current scaled font for a cairo_t.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span><span><span class="type-var">'a</span> <a href="../Font_face/index.html#type-t">Font_face.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Matrix/index.html#type-t">Matrix.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Matrix/index.html#type-t">Matrix.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Font_options/index.html#type-t">Font_options.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>create font_face font_matrix ctm options</code> creates a <a href="#type-t"><code>Cairo.Scaled_font.t</code></a> object from a font face and matrices that describe the size of the font and the environment in which it will be used.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extents"><a href="#val-extents" class="anchor"></a><code><span><span class="keyword">val</span> extents : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-font_extents">font_extents</a></span></code></div><div class="spec-doc"><p><code>extents sf</code> gets the metrics for <code>sf</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-text_extents"><a href="#val-text_extents" class="anchor"></a><code><span><span class="keyword">val</span> text_extents : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-text_extents">text_extents</a></span></code></div><div class="spec-doc"><p><code>text_extents scaled_font utf8</code> gets the <code>extents</code> for a string of text. The extents describe a user-space rectangle that encloses the &quot;inked&quot; portion of the text drawn at the origin (0,0) (as it would be drawn by <a href="../index.html#val-show_text"><code>Cairo.show_text</code></a> if the cairo graphics state were set to the same font_face, font_matrix, ctm, and font_options as <code>scaled_font</code>). Additionally, the x_advance and y_advance values indicate the amount by which the current point would be advanced by <a href="../index.html#val-show_text"><code>Cairo.show_text</code></a>. The string <code>utf8</code> should not contain <code>'\000'</code> characters.</p><p>Note that whitespace characters do not directly contribute to the size of the rectangle (<code>extents.width</code> and <code>extents.height</code>). They do contribute indirectly by changing the position of non-whitespace characters. In particular, trailing whitespace characters are likely to not affect the size of the rectangle, though they will affect the <code>x_advance</code> and <code>y_advance</code> values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-glyph_extents"><a href="#val-glyph_extents" class="anchor"></a><code><span><span class="keyword">val</span> glyph_extents : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Glyph/index.html#type-t">Glyph.t</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-text_extents">text_extents</a></span></code></div><div class="spec-doc"><p><code>glyph_extents scaled_font glyphs</code> gets the <code>extents</code> for an array of glyphs. The extents describe a user-space rectangle that encloses the &quot;inked&quot; portion of the glyphs (as they would be drawn by <a href="../Glyph/index.html#val-show"><code>Cairo.Glyph.show</code></a> if the cairo graphics state were set to the same font_face, font_matrix, ctm, and font_options as <code>scaled_font</code>). Additionally, the <code>x_advance</code> and <code>y_advance</code> values indicate the amount by which the current point would be advanced by <a href="../Glyph/index.html#val-show"><code>Cairo.Glyph.show</code></a>.</p><p>Note that whitespace glyphs do not contribute to the size of the rectangle (<code>extents.width</code> and <code>extents.height</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-text_to_glyphs"><a href="#val-text_to_glyphs" class="anchor"></a><code><span><span class="keyword">val</span> text_to_glyphs : 
  <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">x</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">y</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Glyph/index.html#type-t">Glyph.t</a> array</span> * <span><a href="../Glyph/index.html#type-cluster">Glyph.cluster</a> array</span> * <a href="../Glyph/index.html#type-cluster_flags">Glyph.cluster_flags</a></span></code></div><div class="spec-doc"><p><code>text_to_glyphs scaled_font x y utf8</code> converts UTF-8 text to an array of glyphs, optionally with cluster mapping, that can be used to render later using <code>scaled_font</code>. See <a href="../Glyph/index.html#val-show_text"><code>Cairo.Glyph.show_text</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_font_face"><a href="#val-get_font_face" class="anchor"></a><code><span><span class="keyword">val</span> get_font_face : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Font_face/index.html#type-t">Font_face.t</a></span></span></code></div><div class="spec-doc"><p>Gets the font face that this scaled font was created for.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_font_options"><a href="#val-get_font_options" class="anchor"></a><code><span><span class="keyword">val</span> get_font_options : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Font_options/index.html#type-t">Font_options.t</a></span></code></div><div class="spec-doc"><p><code>get_font_options scaled_font</code> returns the font options with which <code>scaled_font</code> was created.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_font_matrix"><a href="#val-get_font_matrix" class="anchor"></a><code><span><span class="keyword">val</span> get_font_matrix : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Matrix/index.html#type-t">Matrix.t</a></span></code></div><div class="spec-doc"><p><code>get_font_matrix scaled_font</code> return the font matrix with which <code>scaled_font</code> was created.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_ctm"><a href="#val-get_ctm" class="anchor"></a><code><span><span class="keyword">val</span> get_ctm : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Matrix/index.html#type-t">Matrix.t</a></span></code></div><div class="spec-doc"><p><code>get_ctm scaled_font</code> returns the CTM with which <code>scaled_font</code> was created.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_scale_matrix"><a href="#val-get_scale_matrix" class="anchor"></a><code><span><span class="keyword">val</span> get_scale_matrix : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Matrix/index.html#type-t">Matrix.t</a></span></code></div><div class="spec-doc"><p><code>get_scale_matrix scaled_font</code> returns the scale matrix of <code>scaled_font</code>. The scale matrix is product of the font matrix and the ctm associated with the scaled font, and hence is the matrix mapping from font space to device space.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_type"><a href="#val-get_type" class="anchor"></a><code><span><span class="keyword">val</span> get_type : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-font_type">font_type</a></span></code></div><div class="spec-doc"><p>This function returns the type of the backend used to create a scaled font. See <a href="../index.html#type-font_type"><code>Cairo.font_type</code></a> for available types.</p></div></div></div></body></html>
